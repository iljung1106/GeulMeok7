# GeulMeok7 - AI 소설 작성 도우미

GeulMeok7은 Google AI Studio API를 활용한 소설 작성 도우미 애플리케이션입니다. 이 웹 기반 도구는 AI의 도움을 받아 소설 작성 과정을 더 효율적이고 창의적으로 만들어줍니다.

## 주요 기능

- **다양한 AI 모델 지원**: Gemini Pro, Gemini 2.5 Pro, Gemini 2.0 Flash 등 다양한 모델 선택 가능
- **이중 모델 시스템**: 주 모델과 보조 모델을 별도로 설정하여 효율적인 작업 가능
- **맞춤형 프롬프트 엔지니어링**: 시스템 인스트럭션, 상단/하단 프롬프트 설정 가능
- **템플릿 시스템**: 자주 사용하는 프롬프트 조합을 템플릿으로 저장 및 불러오기
- **파일 관리**: 여러 챕터, 캐릭터 설명, 세계관 설정 등을 별도 파일로 관리
- **컨텍스트 선택**: 원하는 파일을 AI 요청에 포함시켜 일관된 스토리 유지
- **자동 요약 기능**: 긴 컨텍스트 파일을 보조 모델로 자동 요약하여 효율적인 토큰 사용
- **파일 순서 관리**: 드래그 앤 드롭으로 파일 순서 조정 및 저장

## 설치 및 실행 방법

### 필수 요구사항

- Python 3.8 이상
- Google AI Studio API 키 ([https://ai.google.dev/](https://ai.google.dev/)에서 발급 가능)

### 설치 방법

1. 이 저장소를 클론합니다:
   ```
   git clone https://github.com/yourusername/GeulMeok7.git
   cd GeulMeok7
   ```

2. Windows 환경에서는 `run_geulmeok7.bat` 파일을 실행합니다:
   ```
   run_geulmeok7.bat
   ```
   이 배치 파일은 필요한 패키지를 설치하고 애플리케이션을 시작합니다.

3. 다른 환경에서는 다음 명령어를 실행합니다:
   ```
   pip install -r requirements.txt
   python app.py
   ```

4. 웹 브라우저에서 http://127.0.0.1:5000 으로 접속합니다.

### Docker를 사용한 설치 및 실행

#### Docker로 실행하기

1. Docker 이미지를 빌드하고 실행:
   ```bash
   docker build -t geulmeok7 .
   docker run -p 5000:5000 -v $(pwd)/data:/app/data geulmeok7
   ```

#### Docker Compose로 실행하기

1. Docker Compose를 사용하여 실행:
   ```bash
   docker-compose up --build
   ```

2. 백그라운드에서 실행하려면:
   ```bash
   docker-compose up -d
   ```

3. 로그 확인:
   ```bash
   docker-compose logs -f
   ```

4. 서비스 중지:
   ```bash
   docker-compose down
   ```

Docker를 사용할 경우에도 웹 브라우저에서 http://127.0.0.1:5000 으로 접속하여 사용할 수 있습니다. API 키는 Docker Compose 파일에서 환경 변수로 설정하거나, 웹 인터페이스의 설정 탭에서 직접 입력할 수 있습니다.

### 초기 설정

1. '설정' 탭으로 이동합니다.
2. Google AI Studio API 키를 입력합니다.
3. 사용할 주 모델과 보조 모델을 선택합니다.
4. Temperature와 Top-P 값을 조정합니다.
5. '설정 저장' 버튼을 클릭합니다.

## 사용 방법

### 기본 사용법

1. '에디터' 탭에서 시스템 인스트럭션, 상단 프롬프트, 메인 프롬프트, 하단 프롬프트를 입력합니다.
2. 컨텍스트로 사용할 파일을 선택합니다.
3. '생성하기' 버튼을 클릭하여 AI 응답을 받습니다.
4. 응답을 저장하려면 '응답 저장하기' 버튼을 클릭합니다.

### 파일 관리

1. '파일 관리' 탭에서 새 파일을 생성하고 관리할 수 있습니다.
2. 파일 목록에서 파일을 드래그하여 순서를 변경할 수 있습니다.
3. 파일을 선택하여 내용을 편집하고 저장할 수 있습니다.
4. '요약하기' 버튼을 클릭하여 파일 내용을 AI로 요약할 수 있습니다.

### 템플릿 관리

1. 시스템 인스트럭션, 상단 프롬프트, 하단 프롬프트 설정을 템플릿으로 저장할 수 있습니다.
2. 저장된 템플릿은 드롭다운 메뉴에서 선택하여 불러올 수 있습니다.

## 주의사항

- 개인 API 키는 로컬에 저장되며 외부로 전송되지 않습니다.
- 작성된 텍스트와 설정은 `data` 디렉토리에 저장됩니다.
- 이 애플리케이션은 개발 서버로 실행되므로 프로덕션 환경에서는 사용하지 마세요.

## 라이선스

MIT License
